{% extends 'form_div_layout.html.twig' %}

{% block textarea_widget %}
{% set attr = attr|merge({'class': attr.class|default('') ~ ' form-control'}) %}
{{ parent() }}
{% endblock textarea_widget %}

{%- block choice_widget_collapsed -%}
    {% set attr = attr|merge({'class': attr.class|default('') ~ ' form-control'}) %}
    {{ parent() }}
{%- endblock choice_widget_collapsed -%}

{% block form_widget_simple %}
{% spaceless %}
    {% set attr = attr|merge({'class': attr.class|default('') ~ ' form-control'}) %}
    {% set type = type|default('text') %}

    {{ parent() }}
{% endspaceless %}
{% endblock form_widget_simple %}

{% block form_row %}
{% spaceless %}
    <div class="form-group{% if errors|length > 0 %} has-error{% endif %}">
        {{ form_label(form) }}

        {{ form_widget(form) }}

        {% for error in errors %}
            <span class="help-block form-error">
                {{
                    error.messagePluralization is null
                    ? error.messageTemplate|trans(error.messageParameters, 'validators')
                    : error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
                }}
            </span>
        {% endfor %}
    </div>
{% endspaceless %}
{% endblock form_row %}

{% block form_errors %}
{% spaceless %}
    {% if errors|length > 0 %}
        {% for error in errors %}
            <div class="alert alert-danger">{{ error.message }}</div>
        {% endfor %}
    {% endif %}
{% endspaceless %}
{% endblock form_errors %}

{%- block package_permission_widget -%}
    <div class="collection-item">
        <div class="input-group">
            <div class="input-group-addon">{% if value is not empty %}{{ value.name }}{% endif %}</div>
            {{ form_widget(form.version) }}
            <div class="input-group-addon" style="width: 11%">
                {{ form_widget(form.selected) }}
            </div>
            {{ form_widget(form.name) }}
        </div>
        {{ form_errors(form.version) }}
        {{ form_errors(form.selected) }}
        {{ form_errors(form.name) }}
    </div>
{%- endblock package_permission_widget -%}
